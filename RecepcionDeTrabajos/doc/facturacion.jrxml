<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="facturacion" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="557" leftMargin="18" rightMargin="20" topMargin="40" bottomMargin="20" whenResourceMissingType="Empty">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="96"/>
	<property name="ireport.y" value="288"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="periodo" class="java.util.Date"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["resources/reports/"]]></defaultValueExpression>
	</parameter>
	<parameter name="IMPRESION" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["ORIGINAL"]]></defaultValueExpression>
	</parameter>
	<parameter name="RELLENO" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *"]]></defaultValueExpression>
	</parameter>
	<parameter name="IS_PRODUCCION" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
	 pv.id AS DOCUMENTO_PUNTO_VENTA_ID,
     pv.numero AS DOCUMENTO_PUNTO_VENTA_NUM,
     lpad(pv.numero,4,'0') AS DOCUMENTO_PUNTO_VENTA_NUM_DESC,
     df.LETRA AS DOCUMENTO_LETRA,
     df.NUMERO AS DOCUMENTO_NUMERO,
     lpad(df.NUMERO,8,'0') AS DOCUMENTO_NUMERO_DESC,
     df.FECHA_EMISION AS DOCUMENTO_GENERACION,
     df.FECHA_EMISION + 10 AS DOCUMENTO_VENCIMIENTO,
     df.COTIZACION AS DOCUMENTO_COTIZACION,
     df.TIPO AS DOCUMENTO_TIPO,
     df.CODIGO_MONEDA_FACT AS DOCUMENTO_MONEDA_ID,
     DF.IMPORTE_BRUTO AS DOCUMENTO_SUBTOTAL,
     DF.IMPORTE_IIBB_SIN_IVA + IMPORTE_IIBB_CON_IVA  AS DOCUMENTO_IIBB,
     DF.IMPORTE_FINAL  AS DOCUMENTO_TOTAL,
     DECODE(df.TIPO,1,'FACTURA',2,'NOTA DE DEBITO',3,'NOTA DE CREDITO',4,'RECIBO',5,'NOTA DE VENTA AL CONTADO',6,'FACTURA',7,'NOTA DE DEBITO',8,'NOTA DE CREDITO') AS DOCUMENTO_TIPO_DESC,
     DECODE(df.CODIGO_MONEDA_FACT,'0','$','1','$','3','U$S','4','{5}') AS DOCUMENTO_MONEDA_SIMBOLO,
     DECODE(df.CODIGO_MONEDA_FACT,'0','PESOS','1','PESOS','3','DOLARES','4','EUROS') AS DOCUMENTO_MONEDA_PLURAL,
     df.PERIODO AS DOCUMENTO_PERIODO,
     lpad(CL.CODIGO,4,'0') AS CLIENTE_CODIGO_DESC,
     CL.TIPO AS CLIENTE_TIPO,
     CL.RAZON_SOCIAL AS CLIENTE_RAZON_SOCIAL,
     CL.DOM_FACTURA_CALLE
					|| NVL2(CL.DOM_FACTURA_NRO_CALLE, ' ' || CL.DOM_FACTURA_NRO_CALLE, '')
					|| NVL2(CL.DOM_FACTURA_PISO, ' ' || CL.DOM_FACTURA_PISO, '')
					|| NVL2(CL.DOM_FACTURA_DEPTO, ' ' || CL.DOM_FACTURA_DEPTO, '') as CLIENTE_DOMICILIO,
     CL.DOM_FACTURA_CODIGO_POSTAL AS CLIENTE_CODIGO_POSTAL,
     CL.DOM_FACTURA_LOCALIDAD AS CLIENTE_LOCALIDAD,
     CL.CUIT AS CLIENTE_CUIT,
     PV.CAI AS CAI,
     PV.FECHA_VENCIMIENTO_CAI AS CAI_VENCIMIENTO,
     '' AS MOTIVO_RECHAZO_AFIP,
     '30-55447591-0' AS CUIT,
     '9012161308' AS IIBB,
     TO_DATE('01/11/1974','DD/MM/YYYY') AS INICIO_ACTIVIDAD ,
     decode(cl.condicion_ante_iva,1,'RESPONSABLE INSCRIPTO',2,'RESPONSABLE NO INSCRIPTO',3,'No Responsable',4,'Exento',5,'Consumidor Final',6,'Responsable Monotributo','')  AS CLIENTE_DESCRIPCION_IVA,
     DF.TIPO AS CODIGO_DOCUMENTO_FISCAL,
     cl.tipo as tipo_cliente,
     df.letra,
     nvl(df.importe_IIBB_con_iva + df.importe_IIBB_sin_iva  ,0)  as importe_IIBB,
     itf.porcentaje_iva ,
     itf.tag as idTag,
     decode(itf.tag,'1',' ','2',' ','3',' ','4',' ','8','Mínimo cpto','9','Máximo cpto',' ') as tag,
     nvl((itf.importe_bruto* itf.porcentaje_iva)/100,0) as iva_aplicado_importe,
     itf.importe_bruto as importe_bruto,
     co.codigo_moneda,
     decode(co.codigo_moneda,0,'PESOS',1,'DOLAR PESIFICADO',3,'DOLAR',4,'EURO') as moneda,
     co.tipo as tipo_concepto,
     lpad(co.codigo,4,'0') as codigo_concepto,
     co.descripcion_linea_factura as descripcion_concepto,
     nvl(itf.cantidad,0) as cantidad1,
     nvl(itf.precio,0) as precio1,
     decode(itf.cantidad,0,itf.importe_bruto,null,itf.importe_bruto,itf.precio*itf.cantidad) as importe1,
     decode(itf.tiene_tope_importe,1,0,nvl((itf.importe_bruto* itf.porcentaje_iva)/100,0)) as iva_aplicado_precio1,
     nvl(itf.cantidad,0) as cantidad2,
     nvl(itf.precio,0) as precio2 ,
     nvl(itf.precio * itf.cantidad,0) as importe2,
     nvl((itf.importe_bruto* itf.porcentaje_iva)/100,0) as iva_aplicado_precio2,
     decode(itf.tiene_tope_importe,1,'S','N') as tiene_tope_importe ,
     itf.cantidad as cantidad,
     decode(df.letra,'B',itf.precio + itf.iva_aplicado,itf.precio) as precio ,
     itf.importe_final as importe,
     decode(df.letra,'B', decode(itf.cantidad,0,itf.iva_aplicado,null,itf.iva_aplicado,itf.iva_aplicado*itf.cantidad),itf.iva_aplicado) as iva_aplicado,
     df.importe_final - df.importe_bruto - nvl(df.importe_iibb_sin_iva,0) - nvl(df.importe_iibb_con_iva,0) as iva_incluido
     from item_facturable itf
     join cliente cl on (itf.cliente_id = cl.id)
     join concepto co on (itf.concepto_id = co.id)
     join documento_fiscal df on (itf.documento_fiscal_id = df.id)
     join punto_de_venta pv on (df.punto_de_venta_id = pv.id)
     join sucursal su on su.id = cl.sucursal_original_id
    where itf.periodo = trunc($P{periodo}, 'month')
          and itf.estado = 1
          and itf.importe_bruto != 0
          and itf.tiene_tope_importe != 1
	order by su.codigo, cl.tipo, cl.codigo, df.id, co.codigo_moneda, co.tipo, co.codigo, itf.tag]]>
	</queryString>
	<field name="DOCUMENTO_PUNTO_VENTA_ID" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_PUNTO_VENTA_NUM" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_PUNTO_VENTA_NUM_DESC" class="java.lang.String"/>
	<field name="DOCUMENTO_LETRA" class="java.lang.String"/>
	<field name="DOCUMENTO_NUMERO" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_NUMERO_DESC" class="java.lang.String"/>
	<field name="DOCUMENTO_GENERACION" class="java.sql.Timestamp"/>
	<field name="DOCUMENTO_VENCIMIENTO" class="java.sql.Timestamp"/>
	<field name="DOCUMENTO_COTIZACION" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_TIPO" class="java.lang.String"/>
	<field name="DOCUMENTO_MONEDA_ID" class="java.lang.String"/>
	<field name="DOCUMENTO_SUBTOTAL" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_TOTAL" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_IIBB" class="java.math.BigDecimal"/>
	<field name="DOCUMENTO_TIPO_DESC" class="java.lang.String"/>
	<field name="DOCUMENTO_MONEDA_SIMBOLO" class="java.lang.String"/>
	<field name="DOCUMENTO_MONEDA_PLURAL" class="java.lang.String"/>
	<field name="DOCUMENTO_PERIODO" class="java.sql.Timestamp"/>
	<field name="CLIENTE_CODIGO_DESC" class="java.lang.String"/>
	<field name="CLIENTE_TIPO" class="java.math.BigDecimal"/>
	<field name="CLIENTE_RAZON_SOCIAL" class="java.lang.String"/>
	<field name="CLIENTE_DOMICILIO" class="java.lang.String"/>
	<field name="CLIENTE_CODIGO_POSTAL" class="java.lang.String"/>
	<field name="CLIENTE_LOCALIDAD" class="java.lang.String"/>
	<field name="CLIENTE_CUIT" class="java.lang.String"/>
	<field name="CAI" class="java.lang.String"/>
	<field name="CAI_VENCIMIENTO" class="java.sql.Timestamp"/>
	<field name="MOTIVO_RECHAZO_AFIP" class="java.lang.String"/>
	<field name="CUIT" class="java.lang.String"/>
	<field name="IIBB" class="java.lang.String"/>
	<field name="INICIO_ACTIVIDAD" class="java.sql.Timestamp"/>
	<field name="CLIENTE_DESCRIPCION_IVA" class="java.lang.String"/>
	<field name="CODIGO_DOCUMENTO_FISCAL" class="java.math.BigDecimal"/>
	<field name="tipo_cliente" class="java.lang.Long"/>
	<field name="letra" class="java.lang.String"/>
	<field name="importe_IIBB" class="java.math.BigDecimal"/>
	<field name="porcentaje_iva" class="java.math.BigDecimal"/>
	<field name="idTag" class="java.lang.String"/>
	<field name="tag" class="java.lang.String"/>
	<field name="iva_aplicado_importe" class="java.math.BigDecimal"/>
	<field name="importe_bruto" class="java.math.BigDecimal"/>
	<field name="codigo_moneda" class="java.lang.Long"/>
	<field name="moneda" class="java.lang.String"/>
	<field name="tipo_concepto" class="java.lang.Long"/>
	<field name="codigo_concepto" class="java.lang.String"/>
	<field name="descripcion_concepto" class="java.lang.String"/>
	<field name="cantidad1" class="java.lang.Long"/>
	<field name="tiene_tope_importe" class="java.lang.String"/>
	<field name="cantidad" class="java.lang.Long"/>
	<field name="precio" class="java.math.BigDecimal"/>
	<field name="importe" class="java.math.BigDecimal"/>
	<field name="precio1" class="java.math.BigDecimal"/>
	<field name="importe1" class="java.math.BigDecimal"/>
	<field name="iva_aplicado_precio1" class="java.math.BigDecimal"/>
	<field name="cantidad2" class="java.lang.Long"/>
	<field name="precio2" class="java.math.BigDecimal"/>
	<field name="importe2" class="java.math.BigDecimal"/>
	<field name="iva_aplicado_precio2" class="java.math.BigDecimal"/>
	<field name="iva_aplicado" class="java.math.BigDecimal"/>
	<field name="iva_incluido" class="java.math.BigDecimal"/>
	<variable name="S_NUMERO" class="java.lang.String">
		<variableExpression><![CDATA[$F{DOCUMENTO_NUMERO}.toPlainString()]]></variableExpression>
	</variable>
	<variable name="S_PUNTO_VENTA_ID" class="java.lang.String">
		<variableExpression><![CDATA[$F{DOCUMENTO_PUNTO_VENTA_ID}.toPlainString()]]></variableExpression>
	</variable>
	<variable name="TOTAL_IMPUESTOS_SUB_REPORTE" class="java.math.BigDecimal" resetType="Column">
		<initialValueExpression><![CDATA[new BigDecimal(0d)]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_DOCUMENTO" class="java.math.BigDecimal" resetType="Group" resetGroup="Numero Documento" calculation="Sum">
		<variableExpression><![CDATA[$V{TOTAL_DETALLE_SUBREPORTE}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal("0.0")]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_DETALLE_SUBREPORTE" class="java.math.BigDecimal" resetType="Group" resetGroup="Numero Documento" calculation="Sum">
		<variableExpression><![CDATA[$F{tiene_tope_importe}.equals("S") ? new BigDecimal("0.0") : $F{importe}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal("0.0")]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_IVA" class="java.math.BigDecimal" resetType="Group" resetGroup="Numero Documento" calculation="Sum">
		<variableExpression><![CDATA[$F{iva_aplicado}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_IIBB" class="java.math.BigDecimal" resetType="Group" resetGroup="Numero Documento" calculation="Sum">
		<variableExpression><![CDATA[$F{DOCUMENTO_IIBB}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_DETALLE" class="java.math.BigDecimal"/>
	<variable name="TOTAL_IMPUESTOS" class="java.math.BigDecimal">
		<initialValueExpression><![CDATA[new BigDecimal(0d)]]></initialValueExpression>
	</variable>
	<variable name="TOTAL_REGISTROS_SUBREPORTE" class="java.lang.Integer" resetType="Group" resetGroup="Numero Documento" calculation="Count">
		<variableExpression><![CDATA[$V{REPORT_COUNT}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<group name="Numero Documento" isStartNewPage="true" isResetPageNumber="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[($P{IMPRESION}+ $F{DOCUMENTO_LETRA}+$F{DOCUMENTO_PUNTO_VENTA_NUM}+$F{DOCUMENTO_NUMERO})]]></groupExpression>
		<groupHeader>
			<band height="28" splitType="Stretch">
				<line>
					<reportElement x="5" y="0" width="100" height="1">
						<printWhenExpression><![CDATA[($P{REPORT_PARAMETERS_MAP}.put("ULTIMA_HOJA", Boolean.FALSE) == null)?Boolean.FALSE:Boolean.FALSE]]></printWhenExpression>
					</reportElement>
				</line>
				<staticText>
					<reportElement x="110" y="0" width="163" height="14" isRemoveLineWhenBlank="true">
						<printWhenExpression><![CDATA[$F{tipo_cliente}.longValue() == 0l ||
$F{tipo_cliente}.longValue() == 1l ||
$F{tipo_cliente}.longValue() == 3l ||
$F{tipo_cliente}.longValue() == 4l]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[LIQUIDACION CORRESPONDIENTE A  ]]></text>
				</staticText>
				<staticText>
					<reportElement x="20" y="1" width="287" height="13" isRemoveLineWhenBlank="true">
						<printWhenExpression><![CDATA[$F{tipo_cliente}.longValue() == 2l]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[POR ADMINISTRACION DE LIBRO DE ACCIONISTAS U OBLIGACIONISTAS, DURANTE EL MES DE ]]></text>
				</staticText>
				<textField evaluationTime="Group" evaluationGroup="Numero Documento">
					<reportElement x="120" y="8" width="100" height="10"/>
					<textElement>
						<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[sba.cajval.sfac.utils.DateUtils.getMonthName($F{DOCUMENTO_PERIODO}).toUpperCase() +" DE "+ sba.cajval.sfac.utils.DateUtils.toString($F{DOCUMENTO_PERIODO},"yyyy").toUpperCase()]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement positionType="Float" x="471" y="14" width="81" height="10" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue()>1)]]></printWhenExpression>
					</reportElement>
					<box topPadding="0">
						<topPen lineWidth="0.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Courier New" size="8" isBold="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{TOTAL_DETALLE_SUBREPORTE}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="20" y="14" width="39" height="14" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue()>1)]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[SUBTOTAL]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="51">
				<line>
					<reportElement x="5" y="0" width="100" height="1">
						<printWhenExpression><![CDATA[($P{REPORT_PARAMETERS_MAP}.put("ULTIMA_HOJA", Boolean.TRUE) == null)?Boolean.FALSE:Boolean.FALSE]]></printWhenExpression>
					</reportElement>
				</line>
				<textField isStretchWithOverflow="true" evaluationTime="Group" evaluationGroup="Numero Documento" pattern="#,##0.00" isBlankWhenNull="false">
					<reportElement key="textField" isPrintRepeatedValues="false" x="140" y="12" width="70" height="10" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" printWhenGroupChanges="Numero Documento">
						<printWhenExpression><![CDATA[$F{DOCUMENTO_LETRA}.equals("B")]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Justified" verticalAlignment="Top">
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{iva_incluido}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement isPrintRepeatedValues="false" x="20" y="22" width="328" height="29" isRemoveLineWhenBlank="true">
						<printWhenExpression><![CDATA[$F{tipo_cliente}.longValue() == 2l && $F{codigo_moneda}.longValue() ==1l]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[FACTURA CORRESP. A UN CONTRATO PACTADO EN U$S, SU IMPORTE ESTA EXPRESADO EN $ (RELACION 1A1 + CER); SIN PREJUICIO DE ENCONTRASE PENDIENTE LA REESTRUCTURACION DE LA RELACION                          CONTRACTUAL, CONSIDERANDOSE TODO LO ABONADO DESDE ENERO 2002 HASTADICHA RENEGOCIACION COMO PAGO A CUENTA DEL MONTO QUE RESULTE ACORDADO  (LEY 25561, DEC 214/02, ETC.)  ]]></text>
				</staticText>
				<staticText>
					<reportElement isPrintRepeatedValues="false" x="20" y="27" width="245" height="12" isRemoveLineWhenBlank="true">
						<printWhenExpression><![CDATA[$F{tipo_cliente}.longValue() != 2l && $F{codigo_moneda}.longValue() ==1l]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[SUJETO A LAS PREVISIONES DEL DECRETO NRO.214/02]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" evaluationTime="Group" evaluationGroup="Numero Documento" isBlankWhenNull="true">
					<reportElement key="textField" isPrintRepeatedValues="false" x="20" y="12" width="125" height="10" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" printWhenGroupChanges="Numero Documento">
						<printWhenExpression><![CDATA[$F{DOCUMENTO_LETRA}.equals("B")]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Justified" verticalAlignment="Top">
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["INCLUYE I.V.A " +  " $ "]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band height="782" splitType="Stretch">
			<staticText>
				<reportElement x="70" y="770" width="428" height="11"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Courier New" size="6" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[Caja de Valores S.A.-25 de Mayo 362-C1002ABH-Ciudad Autónoma de Buenos Aires-Tel:(5411)4317-8900-Fax: (5411)4317-8967 ]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="4" y="548" width="14" height="53"/>
				<textElement rotation="Left">
					<font fontName="Courier New" size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{IMPRESION}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Group" evaluationGroup="Numero Documento">
				<reportElement x="3" y="429" width="15" height="44"/>
				<textElement rotation="Left">
					<font fontName="Courier New" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="3" y="475" width="15" height="44"/>
				<textElement rotation="Left">
					<font fontName="Courier New" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Pagina "+$V{PAGE_NUMBER} +" de "]]></textFieldExpression>
			</textField>
			<rectangle radius="10">
				<reportElement stretchType="RelativeToBandHeight" x="13" y="0" width="541" height="664" backcolor="#FFFFFF"/>
			</rectangle>
			<rectangle radius="10">
				<reportElement x="13" y="693" width="541" height="75"/>
			</rectangle>
			<line>
				<reportElement x="13" y="577" width="541" height="1"/>
			</line>
			<image>
				<reportElement x="95" y="38" width="376" height="531"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{IS_PRODUCCION}.equals(Boolean.TRUE)?"images/marca.jpg":"images/marcaprueba.jpg"]]></imageExpression>
			</image>
			<line>
				<reportElement x="353" y="170" width="1" height="406"/>
			</line>
			<line>
				<reportElement x="399" y="170" width="1" height="406"/>
			</line>
			<line>
				<reportElement x="471" y="171" width="1" height="407"/>
			</line>
		</band>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="172" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="20" y="127" width="308" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["DIREC: "+$F{CLIENTE_DOMICILIO}]]></textFieldExpression>
			</textField>
			<elementGroup>
				<rectangle>
					<reportElement key="rectangle" x="249" y="0" width="56" height="56"/>
				</rectangle>
				<textField isBlankWhenNull="false">
					<reportElement key="textField" x="249" y="0" width="56" height="56"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="36" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCUMENTO_LETRA}]]></textFieldExpression>
				</textField>
			</elementGroup>
			<staticText>
				<reportElement key="staticText" x="312" y="68" width="37" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[FECHA:]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="312" y="90" width="62" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[ING.BRUTOS:]]></text>
			</staticText>
			<textField pattern="0" isBlankWhenNull="false">
				<reportElement key="textField" x="346" y="79" width="128" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CUIT}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement key="textField" x="412" y="101" width="109" height="10"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{INICIO_ACTIVIDAD}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
				<reportElement key="textField" x="347" y="68" width="100" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{DOCUMENTO_GENERACION}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText" x="312" y="79" width="26" height="14"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[CUIT:]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="367" y="90" width="100" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{IIBB}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line" x="14" y="112" width="541" height="2"/>
			</line>
			<line>
				<reportElement key="line" x="14" y="170" width="541" height="1"/>
			</line>
			<line direction="BottomUp">
				<reportElement key="line" x="277" y="56" width="1" height="56"/>
			</line>
			<staticText>
				<reportElement x="312" y="101" width="97" height="10"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[INICIO DE ACTIVIDAD:]]></text>
			</staticText>
			<textField>
				<reportElement x="20" y="114" width="329" height="15"/>
				<textElement>
					<font fontName="Courier New" size="10" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["SR./ES: "+$F{CLIENTE_RAZON_SOCIAL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="348" y="117" width="196" height="10"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["NRO.CLIENTE: ("+$F{CLIENTE_TIPO}.toString()+"/" + $F{CLIENTE_CODIGO_DESC} +")"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="142" width="308" height="15"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CLIENTE_LOCALIDAD} +"("+$F{CLIENTE_CODIGO_POSTAL} +")"]]></textFieldExpression>
			</textField>
			<elementGroup>
				<textField pattern="CUIT 00-00000000-0">
					<reportElement x="380" y="160" width="167" height="10"/>
					<textElement>
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{CLIENTE_CUIT}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="348" y="160" width="31" height="10"/>
					<textElement>
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[CUIT:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="">
					<reportElement x="371" y="137" width="181" height="10"/>
					<textElement>
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{CLIENTE_DESCRIPCION_IVA}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="20" y="160" width="320" height="10"/>
					<textElement>
						<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
					</textElement>
					<text><![CDATA[CONDICION DE VENTA: VENCIMIENTO A 10 DIAS DE FECHA DE FACTURA]]></text>
				</staticText>
			</elementGroup>
			<staticText>
				<reportElement x="348" y="137" width="24" height="10"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[IVA:]]></text>
			</staticText>
			<textField pattern="0000-00000000" isBlankWhenNull="false">
				<reportElement x="316" y="10" width="231" height="20"/>
				<textElement>
					<font fontName="Courier New" size="12" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCUMENTO_TIPO_DESC}+" "+$F{DOCUMENTO_PUNTO_VENTA_NUM_DESC} +"-"+$F{DOCUMENTO_NUMERO_DESC}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="20" y="94" width="159" height="15"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[IVA: RESPONSABLE INSCRIPTO]]></text>
			</staticText>
			<textField>
				<reportElement x="249" y="46" width="56" height="10"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["CÓDIGO " +$F{CODIGO_DOCUMENTO_FISCAL}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="18" y="68" width="191" height="25"/>
				<textElement textAlignment="Center">
					<font fontName="Courier New" size="7" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[Caja de Valores S.A.-25 de Mayo 362-C1002ABH
Ciudad Autónoma de Buenos Aires
Tel:(5411)4317-8900-Fax: (5411)4317-8967 ]]></text>
			</staticText>
			<image>
				<reportElement x="17" y="3" width="186" height="66"/>
				<imageExpression class="java.lang.String"><![CDATA["images/logo.jpg"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="40" splitType="Stretch">
			<line>
				<reportElement key="line" x="14" y="39" width="541" height="1"/>
			</line>
			<staticText>
				<reportElement key="staticText" x="469" y="1" width="85" height="39"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[IMPORTE A PAGAR]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="358" y="0" width="40" height="40"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CANTIDAD ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="15" y="3" width="261" height="36"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CONCEPTOS ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="400" y="0" width="70" height="39"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[PRECIO UNITARIO]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="10">
			<textField pattern="#,##0.00" isBlankWhenNull="false">
				<reportElement key="textField" positionType="FixRelativeToBottom" x="471" y="0" width="80" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{importe}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement key="textField" positionType="FixRelativeToBottom" x="397" y="0" width="73" height="10">
					<printWhenExpression><![CDATA[$F{DOCUMENTO_LETRA}.equals("A")]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="20" y="0" width="285" height="10"/>
				<textElement textAlignment="Justified" verticalAlignment="Top">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{descripcion_concepto} + " " + $F{tag}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="false">
				<reportElement key="textField" positionType="FixRelativeToBottom" x="336" y="0" width="62" height="10">
					<printWhenExpression><![CDATA[new Boolean ($F{cantidad}.doubleValue()>0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0000" isBlankWhenNull="true">
				<reportElement key="textField" positionType="FixRelativeToBottom" x="397" y="0" width="73" height="10">
					<printWhenExpression><![CDATA[$F{DOCUMENTO_LETRA}.equals( "B" )]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="300">
			<textField evaluationTime="Group" evaluationGroup="Numero Documento" pattern="" isBlankWhenNull="true">
				<reportElement x="213" y="95" width="328" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[sba.cajval.sfac.utils.n2t.convertir(
$F{DOCUMENTO_TOTAL},$P{RELLENO}).toUpperCase()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-3" x="21" y="109" width="105" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[CAJA DE VALORES S.A.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-4" x="21" y="122" width="94" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[CUIT: 30-55447591-0]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-3" x="139" y="122" width="347" height="11">
					<printWhenExpression><![CDATA[$P{IMPRESION}.equals("ORIGINAL")]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["VTO: 10 DIAS F.F.; MORA:DEBITAREMOS INTERESES:DESCTO.DOCUM. BCO.NACION"+" Nro. "+ $F{CAI}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-7" x="430" y="140" width="68" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[FECHA DE VTO.]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
				<reportElement key="textField-4" x="492" y="140" width="60" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{CAI_VENCIMIENTO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-5" x="21" y="95" width="130" height="11"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[CONFORME ART. 14 R.G.3445]]></text>
			</staticText>
			<textField>
				<reportElement x="153" y="95" width="58" height="11"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["SON " + $F{DOCUMENTO_MONEDA_PLURAL} + ":"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="23" y="225" width="84" height="10" printWhenGroupChanges="Numero Documento">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[TOTAL A ABONAR:]]></text>
			</staticText>
			<textField evaluationTime="Group" evaluationGroup="Numero Documento" pattern="">
				<reportElement x="107" y="225" width="19" height="10">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DOCUMENTO_MONEDA_SIMBOLO}.replace("{5}", "Ã¢â€šÂ¬")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-3" x="23" y="245" width="347" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["VTO: 10 DIAS F.F.; MORA:DEBITAREMOS INTERESES:DESCTO.DOCUM. BCO.NACION"+" Nro. "+ $F{CAI}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="23" y="255" width="342" height="10"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[LUGAR DE PAGO: TESORERIA PLANTA BAJA EN EL HORARIO DE 10 A 15 HS.]]></text>
			</staticText>
			<textField evaluationTime="Group" evaluationGroup="Numero Documento" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="129" y="225" width="71" height="10">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="Courier New" size="8" isBold="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{DOCUMENTO_TOTAL}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Group" evaluationGroup="Numero Documento" pattern="#,##0.00" isBlankWhenNull="false">
				<reportElement positionType="FixRelativeToBottom" x="471" y="75" width="81" height="12" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{DOCUMENTO_TOTAL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="20" y="70" width="140" height="17" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Bottom">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["TOTAL  "+$F{DOCUMENTO_TIPO_DESC}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="472" y="75" width="81" height="1">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<subreport isUsingCache="true">
				<reportElement key="" positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="20" y="30" width="533" height="14">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PUNTO_VENTA_ID">
					<subreportParameterExpression><![CDATA[$V{S_PUNTO_VENTA_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_LETRA">
					<subreportParameterExpression><![CDATA[$F{DOCUMENTO_LETRA}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_NUMERO">
					<subreportParameterExpression><![CDATA[$V{S_NUMERO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_TIPO">
					<subreportParameterExpression><![CDATA[$F{DOCUMENTO_TIPO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="TOTAL_IMPUESTOS" toVariable="TOTAL_IMPUESTOS_SUB_REPORTE"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "facturacionImpuestosIva.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement key="" positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="20" y="50" width="533" height="14">
					<printWhenExpression><![CDATA[(Boolean)$P{REPORT_PARAMETERS_MAP}.get("ULTIMA_HOJA")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PUNTO_VENTA_ID">
					<subreportParameterExpression><![CDATA[$V{S_PUNTO_VENTA_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_LETRA">
					<subreportParameterExpression><![CDATA[$F{DOCUMENTO_LETRA}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_NUMERO">
					<subreportParameterExpression><![CDATA[$V{S_NUMERO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DOCUMENTO_TIPO">
					<subreportParameterExpression><![CDATA[$F{DOCUMENTO_TIPO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="TOTAL_IMPUESTOS" toVariable="TOTAL_IMPUESTOS_SUB_REPORTE"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "facturacionImpuestosIIBB.jasper"]]></subreportExpression>
			</subreport>
			<componentElement>
				<reportElement mode="Transparent" x="40" y="139" width="209" height="36"/>
				<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Int2of5" drawText="false" checksumRequired="false" barHeight="85">
					<jr:codeExpression><![CDATA[sba.cajval.sfac.utils.afip.AfipHelper.calculoCodigoDeBarras(30554475910d,$F{CODIGO_DOCUMENTO_FISCAL}.intValue(),$F{DOCUMENTO_PUNTO_VENTA_NUM}.intValue()
                                                ,java.lang.Double.parseDouble($F{CAI}),$F{CAI_VENCIMIENTO})]]></jr:codeExpression>
				</jr:barbecue>
			</componentElement>
			<textField>
				<reportElement x="30" y="165" width="229" height="10"/>
				<textElement textAlignment="Center">
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[sba.cajval.sfac.utils.afip.AfipHelper.calculoCodigoDeBarras(30554475910d,$F{CODIGO_DOCUMENTO_FISCAL}.intValue(),$F{DOCUMENTO_PUNTO_VENTA_NUM}.intValue()
,java.lang.Double.parseDouble($F{CAI}),$F{CAI_VENCIMIENTO})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="311" y="150" width="239" height="16">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{MOTIVO_RECHAZO_AFIP}!=null && $F{MOTIVO_RECHAZO_AFIP}.length()!=0)]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[El IVA discriminado no puede computarse como crédito fiscal.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-7" x="311" y="140" width="40" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[CAI NRO.]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-4" x="353" y="140" width="81" height="11"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CAI}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Page" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" x="471" y="2" width="81" height="10" isPrintWhenDetailOverflows="true" printWhenGroupChanges="Numero Documento"/>
				<box topPadding="0">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="Courier New" size="8" isBold="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Courier-Bold"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{TOTAL_DETALLE_SUBREPORTE}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="471" y="1" width="81" height="1"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="20" y="2" width="39" height="14" isPrintInFirstWholeBand="true" isPrintWhenDetailOverflows="true"/>
				<textElement>
					<font fontName="Courier New" size="8" isBold="true" pdfFontName="Courier-Bold"/>
				</textElement>
				<text><![CDATA[SUBTOTAL]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
